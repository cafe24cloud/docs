---
description: 가상서버의 리소스는 다음과 같이 확인 할 수 있습니다. 서비스를 안정적으로 운영하기 위해서는 충분한 서버 리소스가 필요합니다.
---

# 리소스 확인 및 증설 방법

### 1. 가상서버 리소스 관리의 필요성

가상서버에서 일어나는 모든 작업과 처리는 가상서버의 자원을 점유하여 일어납니다.

그 때문에 리소스가 부족할 경우 운영 중인 애플리케이션이 정상 동작하지 않을 수 있습니다.

가상서버의 리소스가 부족하거나 여유가 없는 경우 다음과 같은 현상이 발생할 수 있습니다.

a. 서버로의 파일 업로드/데이터 생성 등에 제약 발생

b. 애플리케이션의 처리 속도 지연

c. 그 외 예측 어려운 서비스 장애

따라서 서비스의 안정적인 운영을 위해서 서버의 리소스를 확인하고 관리하는 과정이 필요합니다.

### &#x20;



### 2. 디스크 용량 확인하기

디스크는 가상서버에서 데이터가 저장되는 공간으로, 디스크 용량이 부족할 경우 저장공간 추가 또는 불필요한 파일 삭제 등의 작업이 필요합니다.

#### (1) df 명령어로 디스크 정보 확인

"**df -Th**" 명령어로 파일 시스템별 디스크 정보를 확인할 수 있습니다.

명령어의 결과를 통해 디스크의 사용량을 확인 가능합니다.

① Size : 해당 파일 시스템의 총 용량

② Used : 해당 파일 시스템에서 사용중인 용량

③ Avail : 사용 가능한 용량

④ Used% : 사용 중인 용량의 비율

⑤ Mounted on : 해당 파일 시스템이 마운트되어 쓰이고 있는 경로

<figure><img src="../../../.gitbook/assets/image (13).png" alt=""><figcaption></figcaption></figure>



#### (2) du 명령어로 디스크 정보 확인하기

다음 명령어로 특정 파일 혹은 디렉터리의 총 디스크 사용 용량을 확인할 수 있습니다.

$ sudo du -sh {파일/디렉터리 경로}



특정 경로 하위의 저장공간을 많이 차지하는 파일/디렉터리는 다음 명령어로 확인할 수 있습니다.

$ sudo du --max-depth=1 {디렉터리 경로} | sort -nr

&#x20;

#### (3) 디스크에 용량이 부족할 경우 조치 방법

a. 불필요한 로그 파일 삭제

/var/log 아래의 시스템 로그 파일 중 불필요한 파일을 삭제합니다.

&#x20;

b. 불필요한 데이터 삭제

사용하지 않는 설치 파일 혹은 더미 파일을 삭제합니다.

&#x20;

c. 저장 공간 추가

**루트 영역(/)의 확장이 필요한 경우**

카페24 클라우드는 기본 디스크의 확장은 제공하지 않습니다.

[블록스토리지 연결을 어떻게 해야하나요?](../../../storage/block/connect.md)을 참고하여 블록 스토리지를 가상서버에 연결하여 저장 공간을늘일수 있습니다.

&#x20;

**블록 스토리지 영역의 확장이 필요한 경우**

[블록스토리지 확장은 어떻게 진행하나요?](../../../storage/block/add.md) 를 참고하여 해당 저장공간을 유연하게 확장할 수 있습니다.

### &#x20;

### 3. CPU, Memory 사용률 확인하기

#### (1) CPU, Memory 리소스 관리의 필요성

**a. CPU**

서버 시스템에 연결된 모든 장치의 동작을 제어하고 명령어를 처리하는 장치입니다.

CPU 부하가 높아지면 서비스가 느려지게 되므로 리소스 증설이 필요합니다.

&#x20;

**b. Memory**

가상서버에서 동작하는 모든 프로세스에 대한 처리 정보는 메모리에 적재됩니다.

메모리가 부족할 경우 Out Of Memory 이슈가 발생하며, 동작 중인 프로세스를 강제로 종료시키게 됩니다.

Swap 영역을 설정하여 메모리가 모두 찼을 경우 디스크의 Swap 영역에 프로세스를 적재할 수 있습니다.

하지만 디스크에도 용량의 제한이 존재하며, 디스크의 처리속도는 메모리보다 현저히 낮기 때문에 유의해야 합니다.

&#x20;

#### (2) 메인 대시보드에서 사용률 확인하기

대시보드의 가상서버의 CPU, Memory 리소스 사용률을 확인할 수 있습니다.

해당 지표는 정확한 수치 확인을 위해 Host 서버에서 측정하는 것으로, 가상서버의 free, top 명령어 결과와 차이가 있을 수 있습니다.

<figure><img src="../../../.gitbook/assets/image.png" alt=""><figcaption></figcaption></figure>



#### (3) 시간별 사용률 확인하기

확인하고자 하는 가상서버의 "모니터링" 버튼을 클릭합니다.

<figure><img src="../../../.gitbook/assets/image (8).png" alt=""><figcaption></figcaption></figure>

시간별로 측정되는 리소스 사용률을 확인할 수 있습니다.

CPU와 Memory 외에도 트래픽, Disk I/O 등의 리소스 사용 현황을 제공합니다.

<figure><img src="../../../.gitbook/assets/image (4).png" alt=""><figcaption></figcaption></figure>



#### (4) CPU, Memory 사양 높이기

카페24 클라우드의 가상서버는 서비스의 부하에 따라 사양을 탄력적으로 변경 할 수 있어 비용 효율적인 서비스 운영이 가능합니다.

[가상서버 하드웨어 사양 변경하기](spec.md)를 참고하여 가상서버의 하드웨어 사양을 업그레이드 할 수 있습니다.





